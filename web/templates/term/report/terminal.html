{% import 'term/block.html' as block %}
{% extends "term/page.html" %}

{% block header %}
    {{ block.header(firm_name, user_email) }}
{% endblock %}

{% block content %}
<h2 class="g-color-blue m-page-name">Терминалы</h2>
<span ng-init="search.action_type='online';search.period='day';search.limit=7"></span>
<div class="section-container section-container__main auto" data-section="" data-options="deep_linking: true;" style="">
    <section class="section active">
        <p class="title">
            <a ng-click="search.action_type='online'">Он-лайн</a>
        </p>
        <div class="content" data-slug="online">
            <div class="section-container section-container__main auto" data-section="" data-options="deep_linking: true;" style="">
                <div class="m-content-page">
                    <div class="content-row" ng-cloak class="ng-cloak">
                        <p class="m-hint">Здесь вы можете посмотреть детальный отчет по вашим терминалам.</p>
                    </div>
                    <div class="content-row">
                        <div class="large-9 columns">
                            <dl class="sub-nav period-select">
                              <span ng-repeat="period in report_detaled_periods">
                                  <dd ng-class="{active: search.period==period.value}">
                                    <a 
                                        class="f-spot-button small"
                                        ng-click="search.period=period.value;search.page=1;pagination.cur=1">
                                        {[{period.name}]}
                                    </a>
                                </dd>
                              </span>
                            </dl>
                        </div>
                    </div>
                    <table class="m-spot-table">
                        <thead>
                        <tr>
                            <th><span>Дата</span></th>
                            <th>
                                <table  class="m-spot-table">
                                <tr>
                                    <th width="300">Терминал</th>
                                    <th>Количество</th>
                                </tr>
                                </table>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="report in reports" class="m-t-cont-row">
                            <td>{[{report.creation_date}]}</td>
                            <td>
                            <table  class="m-spot-table">
                                <tr ng-repeat="row in report.detaled">
                                    <td width="300">{[{row.term}]}</td>
                                    <td>{[{row.count}]}</td>
                                </tr>
                                <tr>
                                    <td><strong>Всего</strong></td>
                                    <td><strong>{[{report.count}]}</strong></td>
                                </tr>
                            </table>
                            </td>
                        </tr>
                        <tr class="m-table-bottom">
                            <td colspan="10">
                                <ui-pagination 
                                    cur="pagination.cur" 
                                    total="pagination.total" 
                                    display="{[{pagination.display}]}">
                                </ui-pagination>
                            </td>
                        </tr>
                        <tr class="m-t-cont-row" ng-hide="page_count">
                    
                            <td colspan="6" class="m-t-nothing">
                                В Вашей компании нет терминалов, обслуживающих бесконтактные карты Mobispot.
                                Добавьте терминал, и получайте подробный отчет об операциях на них.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
    <section class="sections">
    <p class="title">
        <a ng-click="search.action_type='singl'">Разовый</a>
    </p>
    <div class="content" data-slug="singl">
        <div class="section-container section-container__main auto" data-section="" data-options="deep_linking: true;" style="">
            <div class="m-content-page">
                <div class="content-row">
                    <p class="m-hint">Создайте здесь специальный отчет по Вашей компании, который будет выслан Вам и Вашим коллегам на электронную почту в течение 10-15 минут.</p>
                </div>
                <form class="custom">
                    <div class="content-row  g-clearfix">
                        <label for="add-email">Выгрузка в excel*</label>
                        <div class="small-6 switch small">
                            <input id="b" type="radio" checked="" name="switch-b">
                            <label onclick="" for="b">Off</label>
                            <input id="b1" type="radio" name="switch-b">
                            <label onclick="" for="b1">On</label>
                            <span></span>
                        </div>
                    </div>
                    <div class="content-row  g-clearfix">
                        <label for="add-email">E-mail*</label>
                        <input id="add-email" type="text" placeholder="e-mail" class="left"><a href="#" class="f-spot-button">Добавить E-mail</a>
                        <div class="f-select-email">
                            <span class="f-email-case g-radius-main">nanovolgin@gmail.com<i class="g-round"></i></span> <span class="f-email-case g-radius-main">nanovolgin@gmail.com<i class="g-round"></i></span>
                        </div>
                    </div>
                    <div class="content-row g-clearfix">
                        <label for="datepicker">Период*</label>
                        <div class="f-datepicker">
                            <input type="text" name="reservation" id="datepicker" value="03/18/2013 - 03/21/2013" />
                        </div>
                        <a href="#" class="f-spot-button">Отправить</a>
                    </div>
                </form>
                <div class="content-row m-row-h">
                    <h4 class="g-color-blue">Отчеты в процессе обработки</h4>
                </div>
                <table class="m-spot-table" ng-grid="gridOptions">
                    <thead>
                    <tr>
                        <th class="active"><span>Дата начала</span></th>
                        <th><span>Дата окончания</span></th>
                        <th><span>Тип отчета</span></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr class="m-t-cont-row">
                            <td colspan="3" class="m-t-nothing">
                                У Вас нет ни одного отчета, ожидающего отправки
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
    <section class="section">
        <p class="title">
            <a ng-click="search.action_type='regular'">Периодический</a>
        </p>
        <div class="content" data-slug="regular">
            <div class="section-container section-container__main auto" data-section="" data-options="deep_linking: true;" style="">
                <div class="m-content-page">
                    <div class="content-row">
                        <p class="m-hint">Укажите получателей для периодических отчетов по Вашим сотрудникам и терминалам, а также точное время, когда ежедневный отчет будет формироваться и отправляться на указанные Вами адреса. </p>
                    </div>
                    <form class="custom">
                        <div class="content-row  m-row-h">
                            <h4 class="g-color-blue">Настройки ежедневного отчета</h4>
                        </div>
                        <div class="content-row  g-clearfix">
                            <label for="add-email">Выгрузка в excel*</label>
                            <div class="small-6 switch small">
                                <input id="b" type="radio" checked="" name="switch-b">
                                <label onclick="" for="b">Off</label>
                                <input id="b1" type="radio" name="switch-b">
                                <label onclick="" for="b1">On</label>
                                <span></span>
                            </div>
                        </div>
                        <div class="content-row  g-clearfix">
                            <label for="add-email">E-mail*</label>
                            <input id="add-email" type="text" placeholder="e-mail" class="left"><a href="#" class="f-spot-button">Добавить E-mail</a>
                            <div class="f-select-email">
                                <span class="f-email-case g-radius-main">nanovolgin@gmail.com<i class="g-round"></i></span> <span class="f-email-case g-radius-main">nanovolgin@gmail.com<i class="g-round"></i></span>
                            </div>
                        </div>
                        <div class="content-row  g-clearfix">
                            <label for="reports-time">Время формирования ежедневного отчета (чч:мм)</label>
                            <input type="time" class="f-input-small" placeholder="00:00" id="reports-time">
                        </div>

                    </form>
                    <form class="custom">
                        <div class="content-row  m-row-h">
                            <h4 class="g-color-blue">Настройки ежемесячного отчета</h4>
                        </div>
                        <div class="content-row  g-clearfix">
                            <label for="add-email">Выгрузка в excel*</label>
                            <div class="small-6 switch small">
                                <input id="b" type="radio" checked="" name="switch-b">
                                <label onclick="" for="b">Off</label>
                                <input id="b1" type="radio" name="switch-b">
                                <label onclick="" for="b1">On</label>
                                <span></span>
                            </div>
                        </div>
                        <div class="content-row  g-clearfix">
                            <label for="add-email">E-mail*</label>
                            <input id="add-email" type="text" placeholder="e-mail" class="left"><a href="#" class="f-spot-button">Добавить E-mail</a>
                            <div class="f-select-email">
                                <span class="f-email-case g-radius-main">nanovolgin@gmail.com<i class="g-round"></i></span> <span class="f-email-case g-radius-main">nanovolgin@gmail.com<i class="g-round"></i></span>
                            </div>
                        </div>
                        <div class="content-row g-clearfix">
                            <a class="f-spot-button" href="#">Сохранить</a>
                        </div>
                    </form>


                </div>
            </div>
        </div>
    </section>
{% endblock %}